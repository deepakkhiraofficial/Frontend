import{r as o,u as U,a as E,j as e,L as C,N as z,F as W,b as X,d as Z,e as ee,f as te,h as se,i as re,k as ae,O as V,l as $,y as P,X as ne,M as oe,m as le,n as ie,U as J,P as ce,S as G,o as de,C as me,p as xe,q as ue,s as he,V as M,t as _,B as ge,R as pe,v as I,w as fe,x as be}from"./react-vendor-vZwXzMPK.js";import{a as L,f as je,b as Q,E as ye,d as Ne}from"./vendor-CFJQjCKT.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const g of l)if(g.type==="childList")for(const i of g.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const g={};return l.integrity&&(g.integrity=l.integrity),l.referrerPolicy&&(g.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?g.credentials="include":l.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function s(l){if(l.ep)return;l.ep=!0;const g=r(l);fetch(l.href,g)}})();const K=()=>{const[t,n]=o.useState(!1),[r,s]=o.useState(!1),[l,g]=o.useState(null),i=U(),p=E(),m=o.useRef();o.useEffect(()=>{function h(w){m.current&&!m.current.contains(w.target)&&s(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),o.useEffect(()=>{s(!1),n(!1);const h=localStorage.getItem("role");g(h)},[i]);const y=()=>n(h=>!h),u=()=>s(h=>!h),d=()=>{localStorage.removeItem("role"),g(null),s(!1),p("/login")},x=({isActive:h})=>h?"text-indigo-600 font-semibold":"text-gray-700 hover:text-indigo-600";return e.jsxs("nav",{className:"bg-white shadow-md fixed w-full top-0 left-0 z-50",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16 items-center",children:[e.jsx(C,{to:"/",className:"text-2xl font-bold text-indigo-600",onClick:()=>n(!1),children:"MyShop"}),e.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[e.jsx(z,{to:"/",className:x,children:"Home"}),e.jsx(z,{to:"/about",className:x,children:"About"}),e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:u,"aria-haspopup":"true","aria-expanded":r,className:"flex items-center text-gray-700 hover:text-indigo-600 focus:outline-none",children:[e.jsx(W,{className:"text-2xl mr-2"}),"Account",e.jsx("svg",{className:`ml-1 w-4 h-4 transform transition-transform duration-200 ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-30 animate-fade-slide origin-top-right",children:[e.jsx("div",{className:"dropdown-arrow"}),l==="admin"?e.jsx("button",{onClick:d,className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Logout"}):l==="user"?e.jsxs(e.Fragment,{children:[e.jsx(C,{to:"/profile",onClick:()=>s(!1),className:"block px-4 py-2 hover:bg-gray-100",children:"Profile"}),e.jsx("button",{onClick:d,className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{to:"/login",onClick:()=>s(!1),className:"block px-4 py-2 hover:bg-gray-100",children:"Login"}),e.jsx(C,{to:"/signup",onClick:()=>s(!1),className:"block px-4 py-2 hover:bg-gray-100",children:"Signup"})]})]})]})]}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx("button",{onClick:y,"aria-label":"Toggle menu",className:"text-gray-700 focus:outline-none",children:t?e.jsx(X,{size:24}):e.jsx(Z,{size:24})})})]})}),t&&e.jsxs("div",{className:"md:hidden bg-white shadow-md border-t",children:[e.jsx(z,{to:"/",onClick:()=>n(!1),className:"block px-6 py-3 border-b border-gray-200 hover:bg-gray-100",children:"Home"}),e.jsx(z,{to:"/about",onClick:()=>n(!1),className:"block px-6 py-3 border-b border-gray-200 hover:bg-gray-100",children:"About"}),e.jsxs("div",{className:"border-t mt-2",children:[e.jsx("p",{className:"px-6 pt-3 text-gray-700 font-semibold",children:"Account"}),l==="admin"?e.jsx("button",{onClick:()=>{d(),n(!1)},className:"w-full text-left px-6 py-3 hover:bg-gray-100",children:"Logout"}):l==="user"?e.jsxs(e.Fragment,{children:[e.jsx(C,{to:"/profile",onClick:()=>n(!1),className:"block px-6 py-3 hover:bg-gray-100",children:"Profile"}),e.jsx("button",{onClick:()=>{d(),n(!1)},className:"w-full text-left px-6 py-3 hover:bg-gray-100",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{to:"/login",onClick:()=>n(!1),className:"block px-6 py-3 hover:bg-gray-100",children:"Login"}),e.jsx(C,{to:"/signup",onClick:()=>n(!1),className:"block px-6 py-3 hover:bg-gray-100",children:"Signup"})]})]})]})]})};function ve(){return e.jsxs("footer",{className:"text-gray-300 pt-12 pb-10 px-6 md:px-16 relative overflow-hidden",style:{backgroundImage:"url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e')",backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/80"}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto flex flex-col gap-12",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Solutions"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(C,{to:"/marketing",className:"hover:text-indigo-400",children:"Marketing"})}),e.jsx("li",{children:e.jsx(C,{to:"/analytics",className:"hover:text-indigo-400",children:"Analytics"})}),e.jsx("li",{children:e.jsx(C,{to:"/automation",className:"hover:text-indigo-400",children:"Automation"})}),e.jsx("li",{children:e.jsx(C,{to:"/commerce",className:"hover:text-indigo-400",children:"Commerce"})}),e.jsx("li",{children:e.jsx(C,{to:"/insights",className:"hover:text-indigo-400",children:"Insights"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(C,{to:"/support",className:"hover:text-indigo-400",children:"Submit Ticket"})}),e.jsx("li",{children:e.jsx(C,{to:"/docs",className:"hover:text-indigo-400",children:"Documentation"})}),e.jsx("li",{children:e.jsx(C,{to:"/guides",className:"hover:text-indigo-400",children:"Guides"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(C,{to:"/about",className:"hover:text-indigo-400",children:"About"})}),e.jsx("li",{children:e.jsx(C,{to:"/blog",className:"hover:text-indigo-400",children:"Blog"})}),e.jsx("li",{children:e.jsx(C,{to:"/jobs",className:"hover:text-indigo-400",children:"Jobs"})}),e.jsx("li",{children:e.jsx(C,{to:"/press",className:"hover:text-indigo-400",children:"Press"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(C,{to:"/terms",className:"hover:text-indigo-400",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx(C,{to:"/privacy",className:"hover:text-indigo-400",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(C,{to:"/license",className:"hover:text-indigo-400",children:"License"})})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6 border-t border-gray-700 pt-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:"Subscribe to our newsletter"}),e.jsx("p",{className:"text-sm text-gray-400",children:"The latest news, articles, and resources, sent to your inbox weekly."})]}),e.jsxs("form",{className:"flex flex-col sm:flex-row items-center gap-3",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"px-4 py-2 rounded-md bg-gray-800 text-white border border-gray-600 focus:outline-none w-full sm:w-64"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-indigo-500 hover:bg-indigo-600 transition text-white rounded-md",children:"Subscribe"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center text-sm border-t border-gray-700 pt-6",children:[e.jsx("p",{className:"text-gray-400 mb-4 sm:mb-0",children:"Â© 2024 MyShop. All rights reserved."}),e.jsxs("div",{className:"flex space-x-4 text-white text-lg",children:[e.jsx("a",{href:"#","aria-label":"Facebook",className:"hover:text-indigo-400",children:e.jsx(ee,{})}),e.jsx("a",{href:"#","aria-label":"Instagram",className:"hover:text-pink-400",children:e.jsx(te,{})}),e.jsx("a",{href:"#","aria-label":"Twitter",className:"hover:text-blue-400",children:e.jsx(se,{})}),e.jsx("a",{href:"#","aria-label":"GitHub",className:"hover:text-gray-400",children:e.jsx(re,{})}),e.jsx("a",{href:"#","aria-label":"YouTube",className:"hover:text-red-500",children:e.jsx(ae,{})})]})]})]})]})}function we(){const{pathname:t}=U(),n=t==="/",r=t.startsWith("/login")||t.startsWith("/signup");return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[n&&e.jsx(K,{}),e.jsx("main",{className:"flex-grow",children:e.jsx(V,{})}),!r&&e.jsx(ve,{})]})}const ke=()=>e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 mt-10",children:[e.jsxs("section",{className:"flex-1 flex flex-col items-center justify-center text-center px-4 py-12 bg-indigo-600 text-white",children:[e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 leading-tight",children:"Welcome to My Shop"}),e.jsx("p",{className:"text-lg sm:text-xl mb-8 max-w-2xl mx-auto leading-relaxed",children:"Powerful admin and customer tools in one platform. Easily manage users, products, and orders with a few clicks."}),e.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[e.jsx(C,{to:"/login",className:"bg-white text-indigo-600 font-semibold px-6 py-2 rounded-md hover:bg-gray-100 transition",children:"Login"}),e.jsx(C,{to:"/signup",className:"border border-white text-white px-6 py-2 rounded-md hover:bg-white hover:text-indigo-600 transition",children:"Sign Up"})]})]}),e.jsxs("section",{className:"py-12 px-4 sm:px-6 bg-white text-center",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-6 text-gray-800",children:"What You Can Do"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-600",children:"Manage Users"}),e.jsx("p",{className:"text-gray-600",children:"View, add, and update users in a streamlined interface."})]}),e.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-600",children:"Track Orders"}),e.jsx("p",{className:"text-gray-600",children:"Monitor order history, current status, and customer activity."})]}),e.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-indigo-600",children:"Control Inventory"}),e.jsx("p",{className:"text-gray-600",children:"Add, edit, and track products with ease in your admin dashboard."})]})]})]}),e.jsxs("section",{className:"py-12 px-4 sm:px-6 bg-gray-100 text-center",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-10 text-gray-800",children:"What Our Users Say"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("p",{className:"text-gray-600 italic mb-4",children:'"This platform saved us hours of manual work every week. Super intuitive!"'}),e.jsx("h4",{className:"font-bold text-indigo-600",children:"â€” Arjun Singh, Operations Manager"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("p",{className:"text-gray-600 italic mb-4",children:'"Weâ€™ve grown 40% since using YourCompany. The dashboard is a game changer."'}),e.jsx("h4",{className:"font-bold text-indigo-600",children:"â€” Deepak Kushwah, E-commerce Founder"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("p",{className:"text-gray-600 italic mb-4",children:'"I love how everything is organized and easy to access. Excellent UX!"'}),e.jsx("h4",{className:"font-bold text-indigo-600",children:"â€” Priya, Product Lead"})]})]})]}),e.jsxs("section",{className:"py-12 px-4 sm:px-6 bg-white text-center",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-4 text-gray-800",children:"Stay in the loop"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Subscribe to our newsletter for updates and exclusive offers."}),e.jsxs("form",{className:"max-w-md mx-auto flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 transition",children:"Subscribe"})]})]})]}),Y=["https://images.unsplash.com/photo-1585386959984-a4155224a1c1?auto=format&fit=crop&w=1400&q=80","https://images.unsplash.com/photo-1603791440384-56cd371ee9a7?auto=format&fit=crop&w=1400&q=80","https://images.unsplash.com/photo-1609947024030-6373c69a1821?auto=format&fit=crop&w=1400&q=80","https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?auto=format&fit=crop&w=1400&q=80","https://images.unsplash.com/photo-1556740749-887f6717d7e4?auto=format&fit=crop&w=1400&q=80"],Se=[{name:"Deepak Kushwah",role:"Founder & CEO",image:"https://res.cloudinary.com/dy5s3zplq/image/upload/t_Profile/v1748423179/poto_ezrfbt.jpg"},{name:"Liam Johnson",role:"Head of Product",image:"https://randomuser.me/api/portraits/men/45.jpg"},{name:"Sophia Williams",role:"Customer Support Lead",image:"https://randomuser.me/api/portraits/women/46.jpg"}],Ce=[{name:"Aarav Singh",feedback:"Amazing products and fast delivery! Love the eco-friendly packaging.",image:"https://randomuser.me/api/portraits/men/32.jpg"},{name:"Maya Patel",feedback:"Customer service is top-notch. Highly recommend this shop!",image:"https://randomuser.me/api/portraits/women/29.jpg"}],Pe=["https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/tesla.svg","https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg","https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg","https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg"],Oe=()=>e.jsxs("div",{className:"bg-gray-50",children:[e.jsx(K,{}),e.jsxs("div",{className:"relative h-[60vh] overflow-hidden bg-black",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:e.jsx("h1",{className:"text-white text-4xl md:text-6xl font-extrabold text-center px-4",children:"Discover the People Behind Our Passion"})}),e.jsx("div",{className:"absolute top-0 left-0 flex h-full w-[300%] animate-scroll",children:Y.concat(Y).map((t,n)=>e.jsx("div",{className:"h-full w-[20%] flex-shrink-0",children:e.jsx("img",{src:t,alt:"Hero",className:"h-full w-full object-cover"})},n))})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("section",{className:"mb-16 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"At our eCommerce shop, we strive to bring you high-quality, sustainable products with a focus on customer satisfaction, ethical sourcing, and seamless shopping experiences."})]}),e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-10",children:"Why Choose Us"}),e.jsx("div",{className:"grid md:grid-cols-4 sm:grid-cols-2 gap-8 text-center",children:[["ðŸŒ±","Eco-Friendly Products"],["âš¡","Fast & Reliable Delivery"],["ðŸ’¬","24/7 Support"],["ðŸ”’","Secure Payments"]].map(([t,n],r)=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow hover:shadow-lg transition",children:[e.jsx("div",{className:"text-4xl mb-3",children:t}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:n})]},r))})]}),e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"Meet the Team"}),e.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-10",children:Se.map(t=>e.jsxs("div",{className:"bg-white rounded-3xl shadow-md hover:shadow-xl transition-all text-center p-6 transform hover:-translate-y-2",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-24 h-24 rounded-full object-cover mx-auto mb-4 border-4 border-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.role})]},t.name))})]}),e.jsxs("section",{className:"mb-20 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-12",children:"What Our Customers Say"}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-8",children:Ce.map((t,n)=>e.jsxs("div",{className:"bg-white rounded-xl shadow p-6 transition transform hover:scale-105",children:[e.jsxs("p",{className:"text-gray-600 mb-4 italic",children:['"',t.feedback,'"']}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-12 h-12 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-800",children:t.name})]})]},n))})]}),e.jsxs("section",{className:"mb-20 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Our Trusted Partners"}),e.jsx("div",{className:"flex justify-center items-center gap-8 flex-wrap animate-fadeIn",children:Pe.map((t,n)=>e.jsx("img",{src:t,alt:"partner",className:"h-12 object-contain grayscale hover:grayscale-0 transition"},n))})]}),e.jsxs("section",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Get in Touch"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("span",{children:"ðŸ“§"}),e.jsx("span",{children:"deepakKushwah475110@gmail.com"})]}),e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("span",{children:"ðŸ“ž"}),e.jsx("span",{children:"+91-9109001109"})]}),e.jsxs("div",{className:"flex justify-center items-center gap-3",children:[e.jsx("span",{children:"ðŸ“"}),e.jsx("span",{children:"Ward 15 Ramgarh Street Dabra"})]})]})]})]})]}),Ae={user:null,token:null,login:()=>{},logout:()=>{},loading:!0},B=o.createContext(Ae),Le=({children:t})=>{const[n,r]=o.useState(null),[s,l]=o.useState(null),[g,i]=o.useState(!0);o.useEffect(()=>{(async()=>{var d,x;const u=localStorage.getItem("token");if(!u){i(!1);return}l(u);try{const h=await L.get("https://myshop-72k8.onrender.com/me",{headers:{Authorization:`Bearer ${u}`},withCredentials:!0});(d=h.data)!=null&&d.user?(r(h.data.user),localStorage.setItem("user",JSON.stringify(h.data.user))):m()}catch(h){console.error("Auth revalidation failed:",((x=h==null?void 0:h.response)==null?void 0:x.data)||h.message),m()}finally{i(!1)}})()},[]);const p=(y,u)=>{try{localStorage.setItem("user",JSON.stringify(y)),localStorage.setItem("token",u),r(y),l(u)}catch(d){console.error("Login failed:",d)}},m=async()=>{try{await L.get("https://myshop-72k8.onrender.com/logout",{withCredentials:!0})}catch(y){console.warn("Server logout failed:",(y==null?void 0:y.message)||y)}finally{localStorage.removeItem("user"),localStorage.removeItem("token"),r(null),l(null)}};return e.jsx(B.Provider,{value:{user:n,token:s,login:p,logout:m,loading:g},children:t})},Ie=()=>{const t=E(),{login:n}=o.useContext(B),[r,s]=o.useState({email:"",password:"",role:""}),[l,g]=o.useState(!1),i=m=>{const{name:y,value:u}=m.target;s(d=>({...d,[y]:u}))},p=async m=>{var y,u;if(m.preventDefault(),!r.role){P.error("Please select a role.");return}g(!0);try{const d=await L.post("https://myshop-72k8.onrender.com/login",r,{withCredentials:!0}),{token:x,user:h}=d.data;if(x&&h)n(h,x),P.success("Login successful!");else throw new Error("Invalid login response")}catch(d){const x=((u=(y=d.response)==null?void 0:y.data)==null?void 0:u.message)||"Login failed. Check your credentials or try again later.";P.error(x)}finally{g(!1)}};return o.useEffect(()=>{const m=JSON.parse(localStorage.getItem("user"));(m==null?void 0:m.role)==="admin"?t("/admin"):(m==null?void 0:m.role)==="user"&&t("/user/dashboard")},[t]),e.jsxs(e.Fragment,{children:[e.jsx($,{position:"top-right",autoClose:2e3}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 px-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 p-8 rounded-xl shadow-xl transition duration-300",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-indigo-700 dark:text-indigo-400 mb-6",children:"Welcome Back ðŸ‘‹"}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:i,required:!0,autoComplete:"email",placeholder:"you@example.com",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:text-white transition"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:i,required:!0,autoComplete:"current-password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:text-white transition"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Role"}),e.jsxs("select",{id:"role",name:"role",value:r.role,onChange:i,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:text-white transition",children:[e.jsx("option",{value:"",disabled:!0,children:"Choose a role"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("button",{type:"submit",disabled:l,className:`w-full py-2 px-4 text-white rounded-lg font-semibold text-lg transition ${l?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:l?"Logging in...":"Login"})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600 dark:text-gray-400",children:["Donâ€™t have an account?"," ",e.jsx(C,{to:"/signup",className:"text-indigo-600 font-medium hover:underline",children:"Sign Up"})]})]})})]})},De=()=>{const[t,n]=o.useState({name:"",email:"",password:"",contact:"",city:"",pincode:"",dob:"",gender:""}),[r,s]=o.useState(!1),[l,g]=o.useState(!1),i=E(),p=u=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u),m=u=>{const{name:d,value:x}=u.target;n(h=>({...h,[d]:x}))},y=async u=>{var k,F,b,N;u.preventDefault(),s(!0);const{name:d,email:x,password:h,contact:w,city:a,pincode:f,dob:j,gender:S}=t;if(!d||!x||!h||!w||!a||!f||!j||!S){P.error("All required fields must be filled.",{position:"top-right",autoClose:3e3}),s(!1);return}if(!p(x)){P.error("Enter a valid email address.",{position:"top-right",autoClose:3e3}),s(!1);return}try{const c=await L.post("https://myshop-72k8.onrender.com/signup",t);c.data.message==="User Signup Successfully"?(P.success("Signup Successful!",{position:"top-right",autoClose:1500}),setTimeout(()=>{n({name:"",email:"",password:"",contact:"",city:"",pincode:"",dob:"",gender:""}),i("/login")},1600)):P.error(((k=c==null?void 0:c.data)==null?void 0:k.message)||"Signup failed.",{position:"top-right",autoClose:3e3})}catch(c){console.error("Signup error:",{message:c.message,stack:c.stack,config:c.config,isAxiosError:c.isAxiosError}),console.error("Response data:",(F=c==null?void 0:c.response)==null?void 0:F.data),P.error(((N=(b=c==null?void 0:c.response)==null?void 0:b.data)==null?void 0:N.message)||"Signup failed. Please check internet connection. Try again.",{position:"top-right",autoClose:3e3})}finally{s(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:e.jsxs("div",{className:"bg-white shadow-md rounded-lg p-8 w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Signup Account"}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[["name","email","contact","city","pincode","dob"].map(u=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 capitalize",children:u}),e.jsx("input",{type:u==="dob"?"date":u==="email"?"email":u==="contact"?"number":"text",name:u,id:u,value:t[u],onChange:m,className:"mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},u)),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{name:"gender",id:"gender",value:t.gender,onChange:m,className:"mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",name:"password",id:"password",value:t.password,onChange:m,className:"mt-1 w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("span",{onClick:()=>g(u=>!u),className:"absolute right-3 top-3 text-sm cursor-pointer text-blue-600",children:l?"Hide":"Show"})]})]}),e.jsx("button",{type:"submit",disabled:r,className:`w-full py-2 px-4 text-white font-semibold rounded-md ${r?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:r?"Signing up...":"Signup"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{onClick:()=>i("/login"),className:"text-blue-600 hover:underline font-medium",children:"Login"})]})})]})})]})},Fe=()=>{const[t,n]=o.useState([]),[r,s]=o.useState(!0),[l,g]=o.useState(""),[i,p]=o.useState("All"),[m,y]=o.useState("");o.useEffect(()=>{(async()=>{try{const x=localStorage.getItem("token"),h=x?{headers:{Authorization:`Bearer ${x}`}}:{},w=await L.get("https://myshop-72k8.onrender.com/getOrderAdmin",h);n(w.data.orders||[])}catch{g("Failed to load orders.")}finally{s(!1)}})()},[]);const u=t.filter(d=>{var a,f;const x=i==="All"||d.status===i,h=m.toLowerCase(),w=d._id.toLowerCase().includes(h)||((a=d.userId)==null?void 0:a.name)&&d.userId.name.toLowerCase().includes(h)||((f=d.userId)==null?void 0:f.email)&&d.userId.email.toLowerCase().includes(h);return x&&w});return r?e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-dashed rounded-full animate-spin"})}):l?e.jsx("div",{className:"p-6 text-center text-red-500",children:l}):e.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-10 max-w-7xl mx-auto bg-gradient-to-b from-white via-gray-50 to-gray-100 min-h-screen",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-center text-gray-800 mb-8",children:"All Customers"}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-4",children:u.length?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 sm:grid-cols-1 lg:grid-cols-2",children:u.map(d=>{var x,h,w,a;return e.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 shadow-sm p-4 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-3 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Order Id:"})," ",d._id]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Order Date:"})," ",new Date(d.createdAt).toLocaleString("en-IN",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Name:"})," ",((x=d.userId)==null?void 0:x.name)||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Email:"})," ",((h=d.userId)==null?void 0:h.email)||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"City:"})," ",((w=d.userId)==null?void 0:w.city)||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Pincode:"})," ",((a=d.userId)==null?void 0:a.pincode)||"N/A"]})]})]},d._id)})}):e.jsx("p",{className:"text-gray-500 italic text-center",children:"No matching orders found."})})]})},Ee=()=>{const t=E(),[n,r]=o.useState("U"),[s,l]=o.useState(!1);o.useEffect(()=>{var m;const p=localStorage.getItem("user");if(p)try{const y=JSON.parse(p);y.role!=="admin"?t("/login"):r(((m=y.name)==null?void 0:m.charAt(0).toUpperCase())||"U")}catch(y){console.error("Error parsing user data:",y),localStorage.clear(),t("/login")}else t("/login")},[t]);const g=()=>{localStorage.clear(),t("/login")},i=[{name:"Dashboard",to:"dashboard",icon:ie},{name:"Customers",to:"customers",icon:J},{name:"Products",to:"products",icon:ce},{name:"Orders",to:"orders",icon:G},{name:"Settings",to:"settings",icon:de},{name:"Add Product",to:"product/add",icon:me},{name:"Admin Users",to:"users",icon:J}];return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsxs("header",{className:"bg-indigo-700 text-white p-4 flex justify-between items-center sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{"aria-label":"Toggle Sidebar",className:"md:hidden focus:outline-none",onClick:()=>l(!s),children:s?e.jsx(ne,{size:24}):e.jsx(oe,{size:24})}),e.jsx("div",{className:"rounded-full w-10 h-10 flex items-center justify-center bg-blue-600 font-semibold text-lg",children:n}),e.jsx("h1",{className:"text-xl font-semibold",children:"Admin Panel"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"hidden sm:inline font-medium",children:["Welcome, ",n]}),e.jsxs("button",{onClick:g,className:"bg-indigo-900 hover:bg-indigo-950 px-3 py-1 rounded-md flex items-center gap-2",children:[e.jsx(le,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),e.jsxs("div",{className:"flex flex-1 flex-col md:flex-row",children:[e.jsx("nav",{className:`bg-white md:block shadow-md w-full md:w-64 p-4 transition-all duration-300 md:static absolute z-40 ${s?"block":"hidden"}`,children:e.jsx("ul",{className:"space-y-3",children:i.map(({name:p,to:m,icon:y})=>e.jsx("li",{children:e.jsxs(z,{to:m,className:({isActive:u})=>`flex items-center space-x-3 px-3 py-2 rounded-md font-medium ${u?"text-indigo-600 bg-indigo-100":"text-gray-700 hover:text-indigo-600 hover:bg-indigo-100"}`,onClick:()=>l(!1),children:[e.jsx(y,{size:18}),e.jsx("span",{children:p})]})},m))})}),e.jsx("main",{className:"flex-1 bg-white p-4 md:p-6",children:e.jsx(V,{})})]}),e.jsx("footer",{className:"text-center text-gray-500 text-sm py-4",children:"Â© 2025 My Shop. All rights reserved."})]})},Te=({products:t,onAddToCart:n,formatPrice:r})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-8 text-indigo-700 text-center",children:"Our Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 px-4 max-w-7xl mx-auto",children:t.map(s=>{const l=s.id||s._id,g=(s==null?void 0:s.discount)>0,i=(s==null?void 0:s.mrp)||0;return e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-transform transform hover:-translate-y-2 p-6 flex flex-col items-center text-center",children:[g&&e.jsxs("div",{className:"absolute top-4 left-4 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md z-10",children:[s.discount,"% OFF"]}),e.jsx("img",{loading:"lazy",src:s.image||"https://via.placeholder.com/150",alt:s.name,className:"w-36 h-36 object-cover rounded-xl mb-4 shadow-md"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 truncate w-full",title:s.name,children:s.name}),s.rating&&e.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:["â­ ",s.rating,"/5"]}),e.jsx("div",{className:"flex flex-col items-center mt-2",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-400 line-through text-sm",children:["MRP: â‚¹",i.toFixed(2)]}),e.jsxs("p",{className:"text-green-600 text-lg font-bold",children:["Price: ",r(s.price)]})]}):e.jsxs("p",{className:"text-green-600 text-lg font-bold mt-1",children:["Price: ",r(s.price)]})}),e.jsxs("button",{onClick:()=>n(s),"aria-label":`Add ${s.name} to cart`,className:"mt-6 w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-medium py-3 rounded-xl hover:from-purple-600 hover:to-indigo-500 transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(G,{size:20})," Add to Cart"]})]},l)})})]}),$e=({cart:t,updateQty:n,removeItem:r,formatPrice:s})=>{const l=E(),g=t.reduce((a,f)=>a+f.price*f.qty,0),[i,p]=o.useState([]),[m,y]=o.useState(null),[u,d]=o.useState(null),x=o.useRef({}),h=(a,f)=>{f<1||(x.current[a]&&clearTimeout(x.current[a]),d(a),x.current[a]=setTimeout(async()=>{const j=t.findIndex(k=>k._id===a||k.id===a);if(j===-1){d(null);return}const S=t[j];try{const{data:k}=await L.get(`https://myshop-72k8.onrender.com/products/getProductById/${a}`);console.log(k);const F=k.product.stock;if(f>F){P.warning("Quantity exceeds available stock."),d(null);return}const b=f-S.qty;if(b===0){d(null);return}await L.put(`https://myshop-72k8.onrender.com/products/${a}/update-stock`,{qtyChange:b}),n(a,f,F),y(a),setTimeout(()=>y(null),500)}catch(k){console.error(k),P.error("Failed to update quantity.")}finally{d(null)}},300))},w=a=>{p(f=>[...f,a]),setTimeout(()=>{r(a),p(f=>f.filter(j=>j!==a))},300)};return e.jsx("div",{className:"flex flex-col h-full max-h-[80vh] min-h-[300px] sm:min-h-[400px] md:min-h-[500px]",children:t.length===0?e.jsx("p",{className:"text-center text-gray-500 mt-20",children:"Your cart is empty."}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"flex-1 overflow-y-auto scroll-smooth space-y-4 mb-4 px-1 sm:px-3",children:t.map(a=>{const f=a.id||a._id,j=i.includes(f),S=m===f,k=u===f;return e.jsxs("li",{className:`flex flex-col sm:flex-row items-center sm:items-start gap-4 border-b pb-3
                    transform transition-all duration-300 ease-in-out
                    ${j?"opacity-0 -translate-x-10 h-0 p-0 overflow-hidden":"opacity-100"}
                    ${S?"bg-yellow-100":""}
                  `,children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full max-w-[150px] h-28 object-cover rounded-md mx-auto sm:mx-0"}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("h4",{className:"font-semibold text-gray-800 text-center sm:text-left",children:a.name}),e.jsx("p",{className:"text-indigo-600 font-bold text-center sm:text-left",children:s(a.price)}),e.jsxs("div",{className:"flex justify-center sm:justify-start items-center mt-2 space-x-2",children:[e.jsx("label",{htmlFor:`qty-${f}`,className:"text-sm",children:"Qty:"}),e.jsx("input",{type:"number",id:`qty-${f}`,min:"1",value:a.qty,disabled:k,onChange:F=>{const b=Math.max(1,parseInt(F.target.value,10)||1);h(f,b)},className:`w-16 border rounded px-2 py-1 text-center ${k?"opacity-60 cursor-not-allowed":""}`})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-center sm:text-left",children:["In stock: ",a.stock]})]}),e.jsx("button",{type:"button",onClick:()=>w(f),className:"text-red-600 hover:text-red-800 mt-3 sm:mt-0",title:"Remove Item","aria-label":`Remove ${a.name} from cart`,disabled:k,children:e.jsx(xe,{size:20})})]},f)})}),e.jsxs("div",{className:"border-t pt-4 px-2 sm:px-3",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900 mb-4 text-center sm:text-right",children:["Total: ",s(g)]}),e.jsx("button",{onClick:()=>l("/checkout",{state:{cart:t,totalPrice:g}}),className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-md transition",children:"Proceed to Checkout"})]})]})})},qe=()=>{const t=E(),[n,r]=o.useState(!1),[s,l]=o.useState(""),[g,i]=o.useState([]),[p,m]=o.useState([]),[y,u]=o.useState(!1),[d,x]=o.useState(!1),h=o.useRef();o.useEffect(()=>{const N=c=>{h.current&&!h.current.contains(c.target)&&u(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),o.useEffect(()=>{const N=JSON.parse(localStorage.getItem("user"));if(!N)return t("/login");l(N.name),(async()=>{try{const{data:O}=await L.get("https://myshop-72k8.onrender.com/products");i(O.products)}catch{P.error("Failed to load products.")}})();const v=JSON.parse(localStorage.getItem("cart"))||[];m(v)},[t]);const w=async N=>{const c=N._id||N.id,v=[...p],O=v.find(D=>D._id===c);if(N.stock<=0)return P.warn("Out of stock!");try{await L.put(`https://myshop-72k8.onrender.com/products/${c}/update-stock`,{qtyChange:1}),O?O.qty+=1:v.push({...N,qty:1}),m(v),localStorage.setItem("cart",JSON.stringify(v)),P.success(`${N.name} added to cart`)}catch{P.error("Unable to add item. Possibly out of stock.")}},a=async(N,c)=>{const v=p.find(D=>D._id===N);if(!v)return;const O=c-v.qty;if(!(c<1||O===0))try{await L.put(`https://myshop-72k8.onrender.com/products/${N}/update-stock`,{qtyChange:O});const D=p.map(A=>A._id===N?{...A,qty:c}:A);m(D),localStorage.setItem("cart",JSON.stringify(D))}catch{P.error("Stock update failed")}},f=async N=>{const c=p.find(v=>v._id===N);if(c)try{await L.put(`https://myshop-72k8.onrender.com/products/${N}/update-stock`,{qtyChange:-c.qty});const v=p.filter(O=>O._id!==N);m(v),localStorage.setItem("cart",JSON.stringify(v)),P.info("Item removed from cart")}catch{P.error("Failed to restore stock")}},j=()=>{if(!p.length)return P.warning("Your cart is empty.");t("/checkout",{state:{cart:p}})},S=()=>{localStorage.removeItem("user"),t("/login")},k=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(N),F=p.reduce((N,c)=>N+c.price*c.qty,0),b=p.reduce((N,c)=>N+c.qty,0);return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-50 to-white",children:[e.jsxs("nav",{className:"flex items-center justify-between px-4 py-3 bg-indigo-600 text-white shadow sticky top-0 z-50",children:[e.jsx("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:e.jsxs("h1",{className:"text-lg sm:text-xl font-bold truncate max-w-full min-w-0",children:["Welcome, ",s.toUpperCase()]})}),e.jsxs("div",{className:"flex items-center gap-6 relative",ref:h,children:[e.jsxs("button",{onClick:()=>u(!y),className:"flex items-center gap-1 focus:outline-none","aria-haspopup":"true","aria-expanded":y,"aria-label":"User Profile Menu",children:[e.jsx(W,{className:"text-2xl"}),e.jsx("span",{className:"hidden sm:inline ml-1 font-medium",children:"My Profile"})]}),y&&e.jsxs("div",{className:"absolute top-8 right-0 mt-2 w-48 bg-white text-black border rounded-md shadow-lg z-50",role:"menu",children:[e.jsx(C,{to:"/profile",className:"block px-4 py-2 hover:bg-gray-100 text-left",role:"menuitem",children:"Account"}),e.jsx(C,{to:"/orders",className:"block px-4 py-2 hover:bg-indigo-100 text-left text-indigo-700 font-semibold",role:"menuitem",children:"My Orders"}),e.jsx(C,{to:"/track-order",className:"block px-4 py-2 hover:bg-green-100 text-left text-green-700 font-semibold",role:"menuitem",children:"Track Order"}),e.jsx("button",{onClick:S,className:"w-full text-left px-4 py-2 hover:bg-gray-100",role:"menuitem",children:"Logout"})]}),e.jsxs("button",{onClick:()=>r(!n),className:"relative text-2xl focus:outline-none","aria-label":"Cart",children:[e.jsx(ue,{}),b>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:b})]})]})]}),e.jsxs("main",{className:"flex-1 p-2 mt-4 md:ml-50 transition-all duration-300",children:[e.jsx(Te,{products:g,onAddToCart:w,formatPrice:k}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>r(!1),className:"fixed inset-0 bg-black bg-opacity-30 z-40 md:hidden"}),e.jsxs("div",{className:`fixed top-12 right-0 w-80 max-h-full overflow-y-auto bg-white shadow-2xl rounded-l-xl z-50 p-4 border border-gray-200 transition-transform duration-300\r
            transform translate-x-0 md:translate-x-0`,style:{height:"90vh"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-indigo-600",children:"ðŸ›’ Your Cart"}),e.jsx("button",{onClick:()=>r(!1),className:"text-red-500 hover:text-red-700 text-xl font-bold md:hidden","aria-label":"Close Cart",children:"Ã—"})]}),e.jsx($e,{cart:p,updateQty:a,removeItem:f,handleCheckout:j,formatPrice:k,totalPrice:F})]})]})]}),e.jsxs("footer",{className:"bg-indigo-700 text-white text-center p-4 mt-auto",children:["Â© ",new Date().getFullYear()," MyStore. All rights reserved."]}),e.jsx($,{position:"bottom-right",autoClose:3e3})]})},Me=()=>{const[t,n]=o.useState([]),r=JSON.parse(localStorage.getItem("user")||"{}");return o.useEffect(()=>{(async()=>{try{const l=await L.get(`https://myshop-72k8.onrender.com/orders/${r._id}`);n(l.data.orders||[])}catch(l){console.error("Error fetching orders",l)}})()},[r._id]),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-700",children:"My Orders"}),t.length===0?e.jsx("p",{children:"No orders found."}):e.jsx("div",{className:"space-y-6",children:t.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Order #",s._id.slice(-6)]}),e.jsx("span",{className:"text-sm text-gray-500",children:je(new Date(s.createdAt),"dd MMM yyyy")})]}),e.jsx("ul",{className:"mt-2 text-sm text-gray-700",children:s.products.map(l=>e.jsxs("li",{children:[l.name," Ã— ",l.qty," â€“ â‚¹",l.price*l.qty]},l.productId))}),e.jsxs("div",{className:"mt-2 text-right text-indigo-600 font-medium",children:["Total: â‚¹",s.total]})]},s._id))})]})},Re=()=>{const[t,n]=o.useState([]),[r,s]=o.useState(!0),[l,g]=o.useState("");return o.useEffect(()=>{(async()=>{try{const p=localStorage.getItem("token"),m=await L.get("https://myshop-72k8.onrender.com/getOrders",{headers:{Authorization:`Bearer ${p}`}});n(Array.isArray(m.data)?m.data:m.data.orders||[])}catch(p){console.error("Order fetch error:",p),g("Failed to fetch orders.")}finally{s(!1)}})()},[]),e.jsxs(Q.div,{className:"p-4 md:p-6 max-w-6xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-6 text-indigo-700",children:"My Orders"}),r?e.jsx("p",{className:"text-gray-500 text-center animate-pulse",children:"Fetching your orders..."}):l?e.jsx("p",{className:"text-red-600 text-center",children:l}):t.length===0?e.jsx("p",{className:"text-gray-500 text-center",children:"You have no orders yet."}):e.jsx("div",{className:"grid gap-6",children:t.map(i=>e.jsx("div",{className:"rounded-2xl border border-gray-200 bg-white shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4 p-4 md:p-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Order ID:"})," ",i._id]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Date:"})," ",new Date(i.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})]}),e.jsx("div",{className:"divide-y",children:i.items.map((p,m)=>e.jsxs("div",{className:"flex items-center gap-4 py-2",children:[e.jsx("img",{src:p.image||"/placeholder.jpg",alt:p.name,className:"w-14 h-14 rounded-md object-cover border"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-800",children:p.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",p.qty]})]}),e.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:["â‚¹",(p.qty||1)*(p.price||0)]})]},m))})]}),e.jsxs("div",{className:"flex flex-col justify-between items-end text-right gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold text-indigo-600",children:["â‚¹",(i.totalAmount||0).toLocaleString("en-IN")]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"})]}),e.jsx("div",{children:e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium
                                            ${i.status==="Delivered"?"bg-green-100 text-green-700":i.status==="Shipped"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:i.status||"Processing"})})]})]})},i._id))})]})},ze=()=>{var u;const[t,n]=o.useState(""),[r,s]=o.useState(null),[l,g]=o.useState(""),[i,p]=o.useState(!1),m=async()=>{var d,x;if(!t){g("Please enter an Order ID."),s(null);return}p(!0),g(""),s(null);try{const h=localStorage.getItem("token"),w=await L.get(`https://myshop-72k8.onrender.com/getOrderById/${t.trim()}`,{headers:{Authorization:`Bearer ${h}`}});w.data&&w.data.order?s(w.data.order):g("Order not found.")}catch(h){console.error(h),g(((x=(d=h.response)==null?void 0:d.data)==null?void 0:x.message)||"Failed to fetch order.")}finally{p(!1)}},y=d=>{switch(d==null?void 0:d.toLowerCase()){case"shipped":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}};return e.jsxs(Q.div,{className:"p-6 max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Track Your Order"}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Enter Order ID (e.g., 665f3796a2...)",value:t,onChange:d=>n(d.target.value),className:"flex-1 border border-gray-300 p-2 rounded-lg focus:outline-none focus:ring focus:border-blue-400"}),e.jsx("button",{onClick:m,disabled:i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-60",children:i?"Tracking...":"Track"})]}),l&&e.jsx("p",{className:"text-red-500 mb-3",children:l}),r&&e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h4",{className:"font-semibold text-lg",children:["Order #",r._id]}),e.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${y(r.status)}`,children:r.status||"Processing"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Order Date: ",r.createdAt?new Date(r.createdAt).toLocaleDateString():"N/A"]}),e.jsx("div",{className:"divide-y",children:(u=r.items)==null?void 0:u.map((d,x)=>e.jsxs("div",{className:"py-2 flex items-center gap-4",children:[e.jsx("img",{src:d.image||"/placeholder.jpg",alt:d.name,className:"w-16 h-16 object-cover rounded-md border"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:d.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",d.qty]})]}),e.jsxs("p",{className:"font-semibold",children:["â‚¹",d.price*d.qty]})]},x))}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold",children:["Total: â‚¹",r.totalAmount||0]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Estimated Delivery:"," ",r.createdAt?new Date(new Date(r.createdAt).getTime()+5*24*60*60*1e3).toLocaleDateString():"N/A"]})]})]})]})},_e=()=>{const t=E(),[n,r]=o.useState({_id:"",name:"",email:"",password:"",contact:"",city:"",pincode:"",dob:"",gender:""}),[s,l]=o.useState({}),[g,i]=o.useState({}),[p,m]=o.useState(!1),[y,u]=o.useState(!1);o.useEffect(()=>{const f=JSON.parse(localStorage.getItem("user"));f&&(r({...f,password:""}),l({...f,password:""}))},[]),o.useEffect(()=>{const f=j=>{y&&(j.preventDefault(),j.returnValue="")};return window.addEventListener("beforeunload",f),()=>window.removeEventListener("beforeunload",f)},[y]);const d=f=>{const{name:j,value:S}=f.target;r(k=>({...k,[j]:S})),u(!0)},x=f=>{f==="email"||f==="contact"||i(j=>({...j,[f]:!0}))},h=f=>{r(j=>({...j,[f]:s[f]})),i(j=>({...j,[f]:!1}))},w=async f=>{var j,S;f.preventDefault();try{const k=localStorage.getItem("token"),{_id:F,...b}=n;b.password||delete b.password;const{data:N}=await L.put("https://myshop-72k8.onrender.com/update-profile",b,{headers:{Authorization:`Bearer ${k}`}});localStorage.setItem("user",JSON.stringify(N.user)),P.success("Profile updated successfully! Redirecting..."),m(!0),i({}),u(!1),setTimeout(()=>{t("/user/dashboard")},3e3)}catch(k){P.error(((S=(j=k.response)==null?void 0:j.data)==null?void 0:S.message)||"Failed to update profile")}},a=(f,j,S="text")=>{const k=j==="email"||j==="contact";return e.jsxs("div",{onDoubleClick:()=>x(j),className:`relative group ${k?"cursor-not-allowed":"cursor-pointer"}`,title:k?"This field is not editable":"Double-click to edit",children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:f}),g[j]?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:S,name:j,value:n[j]||"",onChange:d,className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("button",{type:"button",onClick:()=>h(j),className:"text-sm text-red-500 hover:underline",title:"Reset this field to original value",children:"ðŸ”„"})]}):e.jsx("p",{className:`p-2 bg-gray-100 rounded ${k?"text-gray-500":""}`,children:n[j]||"-"})]})};return e.jsxs("div",{className:"max-w-2xl mx-auto mt-10 bg-white p-6 shadow rounded-lg relative",children:[e.jsx($,{}),p&&e.jsxs("div",{className:"absolute inset-0 bg-white bg-opacity-80 flex flex-col items-center justify-center z-10 rounded-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-4 border-indigo-600 border-solid mb-4"}),e.jsx("p",{className:"text-indigo-600 font-semibold",children:"Redirecting to dashboard..."})]}),e.jsx("h2",{className:"text-2xl font-bold text-indigo-600 mb-6",children:"User Profile"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a("Name","name"),a("Email","email","email"),a("Contact","contact"),a("City","city"),a("Pincode","pincode"),a("Date of Birth","dob","date"),a("Gender","gender"),g.password?e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"New Password"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"password",name:"password",value:n.password,onChange:d,className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Leave blank to keep current password"}),e.jsx("button",{type:"button",onClick:()=>h("password"),className:"text-sm text-red-500 hover:underline",title:"Reset this field to original value",children:"ðŸ”„"})]})]}):e.jsxs("div",{onDoubleClick:()=>x("password"),children:[e.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Password"}),e.jsx("p",{className:"p-2 bg-gray-100 rounded",children:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),y&&e.jsx("button",{type:"submit",disabled:p,className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition disabled:opacity-50",children:"Save Changes"})]})]})},Ue=()=>{const t=E(),[n,r]=o.useState(3);return o.useEffect(()=>{if(n===0){t("/");return}const s=setTimeout(()=>r(n-1),1e3);return()=>clearTimeout(s)},[n,t]),e.jsxs("div",{className:"p-6 text-center text-red-600",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"403 - Unauthorized"}),e.jsx("p",{children:"You do not have permission to view this page."}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Redirecting in ",e.jsx("span",{className:"font-semibold",children:n})," ","second",n!==1?"s":"","..."]})]})},Be=()=>{const[t,n]=o.useState([]);o.useEffect(()=>{const s=new Date,l=new Date(s.getFullYear(),s.getMonth()-1,1),g=new Date(s.getFullYear(),s.getMonth(),0),p=[{id:"INV001",customer:"John Doe",amount:2500,date:"2025-04-12"},{id:"INV002",customer:"Jane Smith",amount:1800,date:"2025-04-18"},{id:"INV003",customer:"Amit Kumar",amount:3200,date:"2025-04-21"}].filter(m=>{const y=new Date(m.date);return y>=l&&y<=g});n(p)},[]);const r=()=>{if(t.length===0){alert("No invoices found for last month.");return}const s=new ye;s.setFontSize(16),s.text("Deepak's Mart",14,20),s.setFontSize(12),s.text("Invoice Report (Last Month)",14,30),s.text("Owner: Deepak Kushwah",14,36),s.setFontSize(10);const l=t.map(i=>[i.id,i.customer,`â‚¹${i.amount.toLocaleString()}`,i.date]);Ne(s,{startY:45,head:[["Invoice ID","Customer","Amount","Date"]],body:l});const g=t.reduce((i,p)=>i+p.amount,0);s.text(`Total Revenue: â‚¹${g.toLocaleString()}`,14,s.lastAutoTable.finalY+10),s.save("invoices_last_month.pdf")};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow rounded",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Last Month's Invoices"}),t.length===0?e.jsx("p",{className:"text-gray-600",children:"No invoices found for last month."}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"mb-4 space-y-2",children:t.map(s=>e.jsxs("li",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{children:s.customer}),e.jsxs("span",{children:["â‚¹",s.amount.toLocaleString()]}),e.jsx("span",{children:s.date})]},s.id))}),e.jsx("button",{onClick:r,className:"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700",children:"Download PDF"})]})]})]})},R=({label:t,name:n,value:r,onChange:s,placeholder:l,type:g="text",hint:i})=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:n,className:"block text-sm font-medium mb-1",children:t}),e.jsx("input",{id:n,name:n,type:g,value:r,onChange:s,placeholder:l,className:"w-full border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),i&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i})]}),Je=()=>{const[t,n]=o.useState([]),[r,s]=o.useState(""),[l,g]=o.useState(null),[i,p]=o.useState({name:"",price:"",mrp:"",discount:"",stock:""}),[m,y]=o.useState({}),[u,d]=o.useState(!0),[x,h]=o.useState(!1);o.useEffect(()=>{(async()=>{try{const N=await L.get("https://myshop-72k8.onrender.com/products");n(Array.isArray(N.data.products)?N.data.products:[])}catch(N){console.error("Failed to fetch products",N),M.error("Failed to fetch products"),n([])}finally{d(!1)}})()},[]);const w=async b=>{if(window.confirm("Are you sure you want to delete this product?"))try{await L.delete(`http://localhost:4000/products/${b}`),n(N=>N.filter(c=>c._id!==b)),M.success("Product deleted successfully!")}catch(N){console.error("Delete failed",N.response||N.message||N),M.error("Failed to delete product.")}},a=b=>{g(b),p({name:String(b.name||""),price:String(b.price||""),mrp:String(b.mrp||""),discount:String(b.discount||""),stock:String(b.stock||"")}),y({})},f=()=>{g(null),p({name:"",price:"",mrp:"",discount:"",stock:""}),y({})},j=b=>{const{name:N,value:c}=b.target;p({...i,[N]:c})},S=()=>{const b={};return i.name.trim()||(b.name="Name is required"),(isNaN(i.price)||i.price<=0)&&(b.price="Price must be positive"),(isNaN(i.mrp)||i.mrp<=0)&&(b.mrp="MRP must be positive"),(i.discount===""||i.discount<0||i.discount>100)&&(b.discount="0-100 only"),(isNaN(i.stock)||i.stock<0)&&(b.stock="Stock cannot be negative"),y(b),Object.keys(b).length===0},k=async()=>{if(S()){h(!0);try{const b={...i,price:Number(i.price),mrp:Number(i.mrp),discount:Number(i.discount),stock:Number(i.stock)};await L.put(`http://localhost:4000/products/${l._id}`,b),n(N=>N.map(c=>c._id===l._id?{...c,...b}:c)),M.success("Product updated successfully!"),f()}catch(b){console.error("Update failed",b.response||b.message||b),M.error("Failed to update product.")}finally{h(!1)}}},F=t.filter(b=>{var N;return(N=b.name)==null?void 0:N.toLowerCase().includes(r.toLowerCase())});return e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[e.jsx(he,{position:"top-right",reverseOrder:!1}),e.jsx("h1",{className:"text-4xl font-extrabold text-indigo-700 text-center mb-12",children:"Admin Panel - Product Management"}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full max-w-lg border border-indigo-300 px-5 py-3 rounded-xl shadow-sm placeholder-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",value:r,onChange:b=>s(b.target.value)})}),u?e.jsx("p",{className:"text-center mt-16 text-gray-500 text-lg",children:"Loading products..."}):F.length===0?e.jsx("p",{className:"text-center text-gray-500 text-lg",children:"No products found."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:F.map(b=>e.jsxs("div",{className:"bg-white rounded-3xl shadow-md hover:shadow-2xl transition-shadow duration-300 p-6 flex flex-col",children:[e.jsx("img",{src:b.image||"/placeholder.jpg",alt:b.name,className:"h-48 w-full object-cover rounded-2xl mb-5 shadow"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 truncate mb-2",children:b.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Listed: ",b.listedDate?new Date(b.listedDate).toLocaleDateString():"N/A"]}),e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsxs("p",{className:"text-base font-semibold text-green-700",children:["â‚¹",b.price]}),e.jsxs("p",{className:"text-sm text-gray-400 line-through",children:["â‚¹",b.mrp]})]}),e.jsxs("p",{className:"text-sm text-indigo-600 font-medium mb-1",children:["Discount: ",b.discount,"%"]}),e.jsx("p",{className:`text-sm font-medium ${b.stock>0?"text-green-600":"text-red-500"}`,children:b.stock>0?`${b.stock} in stock`:"Out of stock"}),e.jsxs("div",{className:"flex justify-between mt-auto pt-6 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>a(b),className:"text-indigo-600 font-semibold hover:text-indigo-800 transition",children:"Edit"}),e.jsx("button",{onClick:()=>w(b._id),className:"text-red-600 font-semibold hover:text-red-800 transition",children:"Delete"})]})]},b._id))}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 px-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl w-full max-w-md p-8 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-indigo-700 mb-6 text-center",children:"Edit Product"}),e.jsxs("div",{className:"space-y-5",children:[e.jsx(R,{label:"Product Name",name:"name",value:i.name,onChange:j,placeholder:"Enter product name"}),m.name&&e.jsx("p",{className:"text-xs text-red-600",children:m.name}),e.jsx(R,{label:"Price (â‚¹)",name:"price",type:"number",value:i.price,onChange:j,placeholder:"Enter price"}),m.price&&e.jsx("p",{className:"text-xs text-red-600",children:m.price}),e.jsx(R,{label:"MRP (â‚¹)",name:"mrp",type:"number",value:i.mrp,onChange:j,placeholder:"Enter MRP"}),m.mrp&&e.jsx("p",{className:"text-xs text-red-600",children:m.mrp}),e.jsx(R,{label:"Discount (%)",name:"discount",type:"number",value:i.discount,onChange:j,placeholder:"0 - 100"}),m.discount&&e.jsx("p",{className:"text-xs text-red-600",children:m.discount}),e.jsx(R,{label:"Stock",name:"stock",type:"number",value:i.stock,onChange:j,placeholder:"Available stock quantity"}),m.stock&&e.jsx("p",{className:"text-xs text-red-600",children:m.stock})]}),e.jsxs("div",{className:"mt-8 flex justify-between",children:[e.jsx("button",{onClick:f,className:"bg-gray-200 px-6 py-3 rounded-xl font-semibold hover:bg-gray-300 transition",children:"Cancel"}),e.jsx("button",{onClick:k,disabled:x,className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-indigo-700 transition disabled:opacity-60",children:x?"Saving...":"Save Changes"})]})]})})]})},Ye=()=>{const[t,n]=o.useState([]),[r,s]=o.useState(!0),[l,g]=o.useState(""),[i,p]=o.useState("All"),[m,y]=o.useState(""),[u,d]=o.useState(1),[x,h]=o.useState(null),w=6;o.useEffect(()=>{(async()=>{const v=localStorage.getItem("token");try{const O=await L.get("https://myshop-72k8.onrender.com/getOrderAdmin",{headers:{Authorization:`Bearer ${v}`}});n(O.data.orders||[])}catch{P.error("Failed to load orders"),g("Failed to load orders")}finally{s(!1)}})()},[]);const a=["Pending","Processing","Shipped","Delivered","Cancelled"],f={Delivered:"bg-green-100 text-green-700 border border-green-300",Shipped:"bg-blue-100 text-blue-700 border border-blue-300",Processing:"bg-yellow-100 text-yellow-700 border border-yellow-300",Cancelled:"bg-red-100 text-red-700 border border-red-300",Pending:"bg-gray-100 text-gray-700 border border-gray-300"},j=async(c,v)=>{const O=localStorage.getItem("token"),D=t.find(A=>A._id===c);if(!D){P.error("Order not found.");return}if(D.status==="Delivered"||D.status==="Cancelled"){P.warn(`Cannot update a ${D.status.toLowerCase()} order.`);return}if(D.status!==v){h(c);try{await L.put(`http://localhost:4000/orders/${c}/status`,{status:v},{headers:{Authorization:`Bearer ${O}`}}),n(A=>A.map(q=>q._id===c?{...q,status:v}:q)),P.success("Order status updated successfully")}catch(A){console.error(A),P.error("Failed to update order status")}finally{h(null)}}},S=t.filter(c=>{var D,A;const v=i==="All"||c.status===i,O=c._id.toLowerCase().includes(m.toLowerCase())||((A=(D=c.userId)==null?void 0:D.name)==null?void 0:A.toLowerCase().includes(m.toLowerCase()));return v&&O}),k=Math.ceil(S.length/w),F=(u-1)*w,b=S.slice(F,F+w),N=c=>{c<1||c>k||(d(c),window.scrollTo({behavior:"smooth"}))};return r?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"w-12 h-12 border-4 border-indigo-500 border-dashed rounded-full animate-spin"})}):l?e.jsx("div",{className:"p-6 text-center text-red-500",children:l}):e.jsxs("div",{className:"p-4 sm:p-6 md:p-10 max-w-7xl mx-auto min-h-screen bg-gradient-to-b from-white via-gray-50 to-gray-100",children:[e.jsx($,{}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-8 text-center",children:"Orders"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",value:i,onChange:c=>{p(c.target.value),d(1)},children:[e.jsx("option",{value:"All",children:"All Statuses"}),a.map(c=>e.jsx("option",{value:c,children:c},c))]}),e.jsx("input",{type:"text",placeholder:"Search by Order ID or Customer Name",value:m,onChange:c=>{y(c.target.value),d(1)},className:"border border-gray-300 rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 w-full sm:w-72"})]})}),S.length?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid gap-6",children:b.map(c=>{var O,D;const v=c.userId;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-5 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Order Date:"})," ",new Date(c.createdAt).toLocaleString("en-IN",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),e.jsx("select",{value:c.status||"Pending",onChange:A=>j(c._id,A.target.value),disabled:x===c._id||["Delivered","Cancelled"].includes(c.status),className:`mt-2 md:mt-0 px-3 py-1 rounded-full text-xs font-medium cursor-pointer ${f[c.status]||"bg-gray-200 text-gray-700"}`,children:a.map(A=>e.jsx("option",{value:A,children:A},A))})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:(O=c.items)==null?void 0:O.map((A,q)=>e.jsxs("div",{className:"flex items-center gap-3 border rounded-md bg-gray-50 p-2",children:[e.jsx("img",{src:A.image,alt:A.name,className:"w-14 h-14 object-cover rounded border"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-800",children:A.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",A.qty," | â‚¹",A.price]})]})]},q))}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center text-sm text-gray-700",children:[e.jsxs("div",{className:"mb-3 sm:mb-0",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Customer:"})," ",v==null?void 0:v.name," (",v==null?void 0:v.email,")"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"City:"})," ",v==null?void 0:v.city,","," ",e.jsx("span",{className:"font-semibold",children:"Pincode:"})," ",v==null?void 0:v.pincode]})]}),e.jsxs("div",{className:"text-lg font-bold text-indigo-600",children:["â‚¹",(D=c.totalAmount)==null?void 0:D.toFixed(2)]})]}),c.status==="Pending"&&e.jsx("div",{className:"text-right mt-4",children:e.jsx("button",{onClick:()=>alert("Implement Razorpay integration here"),className:"inline-block px-5 py-2 bg-indigo-600 text-white text-sm rounded-lg shadow hover:bg-indigo-700 transition",children:"Pay Now"})})]},c._id)})}),e.jsxs("div",{className:"flex justify-center items-center space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>N(u-1),disabled:u===1,className:`px-3 py-1 rounded border ${u===1?"text-gray-400 border-gray-300 cursor-not-allowed":"text-indigo-600 border-indigo-600 hover:bg-indigo-100"}`,children:"Prev"}),[...Array(k)].map((c,v)=>{const O=v+1;return e.jsx("button",{onClick:()=>N(O),className:`px-3 py-1 rounded border ${O===u?"bg-indigo-600 text-white border-indigo-600":"text-indigo-600 border-indigo-600 hover:bg-indigo-100"}`,children:O},O)}),e.jsx("button",{onClick:()=>N(u+1),disabled:u===k,className:`px-3 py-1 rounded border ${u===k?"text-gray-400 border-gray-300 cursor-not-allowed":"text-indigo-600 border-indigo-600 hover:bg-indigo-100"}`,children:"Next"})]})]}):e.jsx("p",{className:"text-gray-500 italic text-center",children:"No matching orders found."})]})]})},He=()=>e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Settings"}),e.jsx("p",{children:"Configure your admin panel and preferences here."})]}),We=()=>{const[t,n]=o.useState({name:"",costPrice:"",mrp:"",discount:"",stock:"",image:"",category:"",description:""}),[r,s]=o.useState({}),[l,g]=o.useState(null),[i,p]=o.useState(!1),[m,y]=o.useState(!0),u=["Electronics","Clothing","Home & Kitchen","Books","Sports","Toys"],d=()=>{const a={};return t.name.trim()||(a.name="Product name is required"),(!t.costPrice||t.costPrice<=0)&&(a.costPrice="Enter valid cost price"),(!t.mrp||t.mrp<=0)&&(a.mrp="Enter valid MRP"),(t.discount<0||t.discount>100)&&(a.discount="Discount must be 0-100"),t.stock<0&&(a.stock="Enter valid stock"),t.image.trim()||(a.image="Image URL is required"),t.category||(a.category="Please select a category"),t.description.trim()||(a.description="Description is required"),a},x=a=>{const{name:f,value:j}=a.target,S=["costPrice","mrp","discount","stock"];n({...t,[f]:S.includes(f)?Number(j):j})},h=()=>{const{mrp:a,discount:f}=t;return a&&f>=0?(a-a*f/100).toFixed(2):""},w=async a=>{a.preventDefault();const f=d();if(s(f),Object.keys(f).length===0){p(!0);const j=h();try{const S=await L.post("https://myshop-72k8.onrender.com/products/add",{...t,price:j});S.status===201?(P.success("âœ… Product added successfully!"),g(S.data.product),n({name:"",costPrice:"",mrp:"",discount:"",stock:"",image:"",category:"",description:""}),setTimeout(()=>{g(null),y(!1)},3e3)):P.error("Server error. Please try again.")}catch(S){console.error(S),P.error("Failed to add product")}finally{p(!1)}}};return m?e.jsxs("div",{className:"relative max-w-4xl mx-auto p-6 bg-white shadow-2xl rounded-xl mt-10 mb-10 transition-all animate-fade-in",children:[e.jsx($,{}),l&&e.jsx("button",{onClick:()=>y(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-red-500 transition text-2xl font-bold","aria-label":"Close",children:"Ã—"}),e.jsx("h2",{className:"text-4xl font-bold text-center text-indigo-700 mb-8",children:"ðŸ›’ Add New Product"}),e.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"Product Name"}),e.jsx("input",{name:"name",type:"text",value:t.name,onChange:x,placeholder:"E.g., Bluetooth Speaker",className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.name?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`}),r.name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"Cost Price (â‚¹)"}),e.jsx("input",{name:"costPrice",type:"number",value:t.costPrice,onChange:x,placeholder:"Your purchase price (e.g., 100)",className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.costPrice?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`}),r.costPrice&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.costPrice})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"MRP (â‚¹)"}),e.jsx("input",{name:"mrp",type:"number",value:t.mrp,onChange:x,placeholder:"E.g., 400",className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.mrp?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`}),r.mrp&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.mrp})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"Discount (%)"}),e.jsx("input",{name:"discount",type:"number",value:t.discount,onChange:x,placeholder:"E.g., 20",className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.discount?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`}),r.discount&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.discount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"Stock"}),e.jsx("input",{name:"stock",type:"number",value:t.stock,onChange:x,placeholder:"E.g., 50",className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.stock?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`}),r.stock&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.stock})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"Image URL"}),e.jsx("input",{name:"image",type:"text",value:t.image,onChange:x,placeholder:"E.g., https://example.com/image.jpg",className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.image?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`}),r.image&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"Category"}),e.jsxs("select",{name:"category",value:t.category,onChange:x,className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.category?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`,children:[e.jsx("option",{value:"",children:"-- Select Category --"}),u.map(a=>e.jsx("option",{value:a,children:a},a))]}),r.category&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.category})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block font-semibold text-gray-700",children:"Description"}),e.jsx("textarea",{name:"description",rows:"4",value:t.description,onChange:x,placeholder:"Product details, materials, features etc.",className:`w-full px-4 py-2 mt-1 rounded-lg border ${r.description?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 transition`}),r.description&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.description})]}),t.image&&!r.image&&e.jsx("div",{className:"md:col-span-2 flex justify-center mt-4",children:e.jsx("img",{src:t.image,alt:"Preview",className:"h-48 w-auto object-cover rounded-lg shadow-md"})}),h()&&e.jsxs("div",{className:"md:col-span-2 text-center mt-2 text-lg font-medium text-green-700",children:["Final Selling Price: â‚¹",h()]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",disabled:i,className:"w-full bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-60",children:i?"Saving...":"Save Product"})})]}),l&&e.jsxs("div",{className:"mt-10 p-6 bg-gray-50 border rounded-lg shadow-inner animate-fade-in-down",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:l.name}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[e.jsx("img",{src:l.image,alt:l.name,className:"w-40 h-40 object-cover rounded shadow"}),e.jsxs("div",{className:"text-gray-700 space-y-1 text-sm md:text-base",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",l.category]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",l.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cost Price:"})," â‚¹",l.costPrice]}),e.jsxs("p",{children:[e.jsx("strong",{children:"MRP:"})," â‚¹",l.mrp]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Discount:"})," ",l.discount,"%"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Stock:"})," ",l.stock]}),e.jsxs("p",{className:"text-indigo-600 font-semibold",children:["Final Price: â‚¹",l.price]})]})]})]})]}):null},Ve=({setCart:t})=>{const{state:n}=U(),r=E(),[s,l]=o.useState(()=>{const x=localStorage.getItem("cart");return(n==null?void 0:n.cart)||(x?JSON.parse(x):[])}),[g,i]=o.useState(()=>{if(n!=null&&n.totalPrice)return n.totalPrice;const x=localStorage.getItem("cart");return x?JSON.parse(x).reduce((w,a)=>w+a.qty*a.price,0):0}),[p,m]=o.useState(!1),[y,u]=o.useState(""),d=async()=>{var x,h,w;if(s.length===0){u("Cart is empty");return}m(!0),u("");try{const a=localStorage.getItem("token"),f=await L.post("https://myshop-72k8.onrender.com/addOrders",{items:s.map(j=>({productId:j._id||j.id,name:j.name,image:j.image,qty:j.qty,price:j.price})),totalAmount:g},{headers:{Authorization:`Bearer ${a}`}});for(const j of s){const S=j._id||j.id;await L.put(`http://localhost:4000/products/${S}/update-stock`,{qtyChange:j.qty},{headers:{Authorization:`Bearer ${a}`}})}localStorage.removeItem("cart"),l([]),typeof t=="function"&&t([]),r("/order-success")}catch(a){console.error("Checkout error:",((x=a.response)==null?void 0:x.data)||a.message),u(((w=(h=a.response)==null?void 0:h.data)==null?void 0:w.message)||a.message||"Something went wrong")}finally{m(!1)}};return e.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Summary"}),y&&e.jsx("p",{className:"text-red-600 mb-2",children:y}),e.jsx("ul",{className:"space-y-4 border-b pb-4 mb-4",children:s.map(x=>e.jsxs("li",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",x.qty," Ã— â‚¹",x.price]})]}),e.jsxs("p",{className:"font-semibold",children:["â‚¹",x.qty*x.price]})]},x._id||x.id))}),e.jsxs("p",{className:"text-xl font-bold mb-6 text-right",children:["Total: â‚¹",g]}),e.jsx("button",{onClick:d,disabled:p,className:`w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded transition ${p?"opacity-70 cursor-not-allowed":""}`,children:p?"Placing Order...":"Place Order"})]})},Ge=()=>{const t=E(),[n,r]=o.useState(3);return o.useEffect(()=>{if(n===0){t("/user/dashboard");return}const s=setTimeout(()=>r(n-1),1e3);return()=>clearTimeout(s)},[n,t]),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Order Placed Successfully!"}),e.jsx("p",{children:"Thank you for shopping with us."}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Redirecting in ",e.jsx("span",{className:"font-semibold",children:n})," ","second",n!==1?"s":"","..."]})]})},T=({children:t,allowedRoles:n})=>{const{user:r,loading:s}=o.useContext(B);return s?e.jsx("div",{className:"text-center mt-10",children:"Loading..."}):r?n&&!n.includes(r.role)?e.jsx(_,{to:"/unauthorized",replace:!0}):t:e.jsx(_,{to:"/login",replace:!0})},Qe=()=>{const[t,n]=o.useState([]),[r,s]=o.useState(""),[l,g]=o.useState(1),[i,p]=o.useState(1),[m,y]=o.useState(!1),[u,d]=o.useState(""),x=10,h=async()=>{try{y(!0);const a=await L.get("https://myshop-72k8.onrender.com/users",{params:{search:r,page:l,limit:x},headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});n(a.data.users||[]),p(a.data.totalPages||1),d("")}catch(a){console.error(a),d("Failed to fetch users")}finally{y(!1)}};o.useEffect(()=>{h()},[r,l]);const w=a=>{console.log("Delete user",a)};return e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-lg shadow-md",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-indigo-600",children:"Manage Users"}),e.jsx("input",{type:"text",value:r,onChange:a=>s(a.target.value),placeholder:"Search users...",className:"w-full p-2 mb-4 border rounded dark:bg-gray-800 dark:text-white"}),m?e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-300",children:"Loading..."}):u?e.jsx("p",{className:"text-center text-red-600",children:u}):t.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"No users found."}):e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"w-full border border-gray-300 dark:border-gray-600 text-left",children:[e.jsx("thead",{className:"bg-indigo-100 dark:bg-indigo-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3",children:"Name"}),e.jsx("th",{className:"p-3",children:"Email"}),e.jsx("th",{className:"p-3",children:"Role"}),e.jsx("th",{className:"p-3",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(a=>e.jsxs("tr",{className:"border-t dark:border-gray-700",children:[e.jsx("td",{className:"p-3",children:a.name}),e.jsx("td",{className:"p-3",children:a.email}),e.jsx("td",{className:"p-3 capitalize",children:a.role}),e.jsxs("td",{className:"p-3",children:[e.jsx("button",{className:"text-blue-600 hover:underline mr-2",onClick:()=>console.log("Edit user",a._id),children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:underline",onClick:()=>w(a._id),children:"Delete"})]})]},a._id))})]}),e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-4",children:[e.jsx("button",{disabled:l===1,onClick:()=>g(a=>Math.max(a-1,1)),className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 disabled:opacity-50",children:"Prev"}),e.jsxs("span",{className:"text-indigo-700 dark:text-indigo-300",children:["Page ",l," of ",i]}),e.jsx("button",{disabled:l===i,onClick:()=>g(a=>a+1),className:"px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 disabled:opacity-50",children:"Next"})]})]})]})},Ke=()=>e.jsx(ge,{children:e.jsxs(pe,{children:[e.jsxs(I,{element:e.jsx(we,{}),children:[e.jsx(I,{path:"/",element:e.jsx(ke,{})}),e.jsx(I,{path:"/about",element:e.jsx(Oe,{})}),e.jsx(I,{path:"/login",element:e.jsx(Ie,{})}),e.jsx(I,{path:"/signup",element:e.jsx(De,{})}),e.jsx(I,{path:"/checkout",element:e.jsx(Ve,{})}),e.jsx(I,{path:"/order-success",element:e.jsx(Ge,{})}),e.jsx(I,{path:"/unauthorized",element:e.jsx(Ue,{})}),e.jsx(I,{path:"/user/dashboard",element:e.jsx(T,{allowedRoles:["user","admin"],children:e.jsx(qe,{})})}),e.jsx(I,{path:"/profile",element:e.jsx(T,{allowedRoles:["user","admin"],children:e.jsx(_e,{})})}),e.jsx(I,{path:"/user/orders",element:e.jsx(T,{allowedRoles:["user","admin"],children:e.jsx(Me,{})})}),e.jsx(I,{path:"/orders",element:e.jsx(T,{allowedRoles:["user","admin"],children:e.jsx(Re,{})})}),e.jsx(I,{path:"/track-order",element:e.jsx(T,{allowedRoles:["user","admin"],children:e.jsx(ze,{})})})]}),e.jsxs(I,{path:"/admin",element:e.jsx(T,{allowedRoles:["admin"],children:e.jsx(Ee,{})}),children:[e.jsx(I,{index:!0,element:e.jsx(_,{to:"dashboard",replace:!0})}),e.jsx(I,{path:"dashboard",element:e.jsx(Be,{})}),e.jsx(I,{path:"customers",element:e.jsx(Fe,{})}),e.jsx(I,{path:"products",element:e.jsx(Je,{})}),e.jsx(I,{path:"orders",element:e.jsx(Ye,{})}),e.jsx(I,{path:"settings",element:e.jsx(He,{})}),e.jsx(I,{path:"product/add",element:e.jsx(We,{})}),e.jsx(I,{path:"users",element:e.jsx(Qe,{})})]}),e.jsx(I,{path:"*",element:e.jsx(_,{to:"/",replace:!0})})]})}),H=document.getElementById("root");H?fe.createRoot(H).render(e.jsx(be.StrictMode,{children:e.jsx(Le,{children:e.jsx(Ke,{})})})):console.error("âŒ No root element found in HTML!");
